#include "os_api.h"
#include <stdint.h>

/**
 * @brief Задержка в миллисекундах.
 *
 * @param ms Количество миллисекунд для задержки.
 */
void os_delay(uint32_t ms)
{
    // Использует простую цикл-задержку
    volatile uint32_t count;
    for (count = 0; count < (ms * 8000); count++) {
        __asm volatile ("nop");
    }
}

/**
 * @brief Инициализация системы ОС.
 * Вызывается на старте программы.
 */
void os_init(void)
{
    // Здесь может быть инициализация ОС, таймеров или системных ресурсов
    // Пустая реализация для заглушки
}

/**
 * @brief Система для управления задачами. (Заглушка)
 *
 * @param task Функция, которую нужно выполнить.
 */
void os_task_create(void (*task)(void))
{
    // Заглушка для создания задачи. В реальной системе
    // здесь будут функции RTOS, например, для запуска планировщика задач.
    if (task != NULL) {
        task();
    }
}
